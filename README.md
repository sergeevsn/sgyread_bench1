## Сравнение скорости нескольких способов чтения SEG-Y файлов на Python и C++

Читаются 3 значения из заголовков каждой трассы (номер ОГТ, превышения приемника и источника), проверяется 
есть ли в множестве уже такая ОГТ и если нет, новая ОГТ добавляется и тут же производится вычисление 
превышения ОГТ как среднее между превышением источника  приемника. В конце подбивается статистика - первая 
и последняя ОГТ, сколько ОГТ всего, а так же минимум, максимум и среднее превышений ОГТ.

Для простоты пропущена проверка на порядок байт, предполагается что он Big Endian.
Число отсчетов на трассу предполагается фиксированное.

### Тестовый файл 
Teapot Dome preprocessed gathers, 5.84 Gb.
Взять можно тут: http://s3.amazonaws.com/teapot/npr3_gathers.sgy

### Скачать себе и запустить. 
Установка окружения python и компиляция С++ программы у вас может отличаться.
В репозитории уже есть собранный hdr_cpp под Ubuntu 23

```bash
git clone https://github.com/sergeevsn/sgyread_bench1.git
cd sgyread_bench1
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
g++ -O3 -o hdr_cpp hdr_cpp.cpp -lm
./benchmark.sh
```

### Какие сравниваются способы:

* hdr_fileread.py 

Чтение байт с помощью  file.read() и дальнейшего struct.unpack преобразования в нужный тип

* hdr_numpy.py

Чтение числа в нужном формате с помощью numpy.fromfile

* hdr_segyio.py

Чтение с помощью класса Header библиотеки segyio. Необходимо отметить, что это пожалуй единственная полноценная, супер-удобная и отлично задокументированная Python-либа для работы с SEG-Y :) https://github.com/equinor/segyio

* hdrcpp

Программа на C++ для сравнения

### Мои результаты
| Способ | Время,c     | Ранг       |
|:-------------|:------------:|--------------:|
|   С++     | 1,138        | 1    |
|   Python(segyio)  | 1,993 |   2 |
|   Python(numpy.fromfile) | 6.089 | 3 |
|   Python(file.read)  | 10,499 | 4 |


